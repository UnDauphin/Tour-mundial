from typing import List
from os import path
class Graph:

    def __init__(self, n: int, directed: bool = False):
        self.n = n
        self.directed = directed
        self.L: List[List[int]] = [[] for _ in range(n)]

    def add_edge(self, u: int, v: int) -> bool:
        if 0 <= u < self.n and 0 <= v < self.n:
            self.L[u].append(v)
            self.L[u].sort()
            if not self.directed:
                self.L[v].append(u)
                self.L[v].sort()
            return True
        return False
